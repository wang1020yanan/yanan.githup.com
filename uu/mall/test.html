<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>管理员教师审核</title>
    <link href="http://www.uustudy.com.cn/img/logo.png" rel="shortcut icon" type="image/x-icon"/>
    <!--<link href="css/menu.css" rel="stylesheet" type="text/css">-->
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/jquery.cookie.js"></script>
    <script src="js/menu.js"></script>
        <script type="text/javascript">
                function previewImage(file)
                {
                    var MAXWIDTH  = 100;
                    var MAXHEIGHT = 100;
                    var div = document.getElementById('image-wrap');
                    if (file.files && file.files[0])
                    {
                        div.innerHTML = '<img id=def_im>';
                        var img = document.getElementById('def_im');
                        img.onload = function(){
                            var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);
                            img.width = rect.width;
                            img.height = rect.height;
                            img.style.marginLeft = rect.left+'px';
                            img.style.marginTop = rect.top+'px';
                        }
                        var reader = new FileReader();
                        reader.onload = function(evt){img.src = evt.target.result;}
                        reader.readAsDataURL(file.files[0]);
                    }
                    else
                    {
                        var sFilter='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="';
                        file.select();
                        var src = document.selection.createRange().text;
                        div.innerHTML = '<img id=def_im>';
                        var img = document.getElementById('def_im');
//                        img.filters.item('DXImageTransform.Microsoft.AlphaImageLoader').src = src;
                        var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);
                        status =('rect:'+rect.top+','+rect.left+','+rect.width+','+rect.height);
                        div.innerHTML = "<div id=def_im style='width:"+rect.width+"px;height:"+rect.height+"px;margin-top:"+rect.top+"px;margin-left:"+rect.left+"px;"+sFilter+src+"\"'></div>";
                    }
                }
        function clacImgZoomParam( maxWidth, maxHeight, width, height ){
            var param = {top:0, left:0, width:width, height:height};
            if( width>maxWidth || height>maxHeight )
            {
                rateWidth = width / maxWidth;
                rateHeight = height / maxHeight;

                if( rateWidth > rateHeight )
                {
                    param.width =  maxWidth;
                    param.height = Math.round(height / rateWidth);
                }else
                {
                    param.width = Math.round(width / rateHeight);
                    param.height = maxHeight;
                }
            }

            param.left = Math.round((maxWidth - param.width) / 2);
            param.top = Math.round((maxHeight - param.height) / 2);
            return param;
        }
    </script>
    <script type="text/javascript">
        var browser = {
            versions:function(){
                var u = navigator.userAgent, app = navigator.appVersion;
                return ;
            }(),
            language:(navigator.browserLanguage || navigator.language).toLowerCase()
        };
        document.writeln("语言版本: "+browser.language);
        document.writeln(" 是否为移动终端: "+browser.versions.mobile);
        document.writeln(" ios终端: "+browser.versions.ios);
        document.writeln(" android终端: "+browser.versions.android);
        document.writeln(" 是否为iPhone: "+browser.versions.iPhone);
        document.writeln(" 是否iPad: "+browser.versions.iPad);
        document.writeln(navigator.userAgent);
    </script>
</head>
<body>
<div id="image-wrap"><img class="defimg" style="width: 110px;height: 110px" id="def_im"  src="http://www.uustudy.com.cn/uuuutest/thinkphp/Public/img/tc_home/8.png"></div>
<input id="file" class="sign" type="file" name="photo" onchange="previewImage(this)">


<!--<div id="localImag"><img id="preview" src=""  style="display: block;"></div>-->
<!--<input type="file" name="file" id="doc" style="width:150px;" onchange="javascript:setImagePreview();">-->
</body>
</html>